SELECT year, round(moves/solves, 2) moves, solves
FROM
(SELECT
  year,
  sum(if(value1>0,value1,0)+if(value2>0,value2,0)+if(value3>0,value3,0)+if(value4>0,value4,0)+if(value5>0,value5,0)) moves,
  sum((value1>0)+(value2>0)+(value3>0)+(value4>0)+(value5>0)) solves
FROM Results JOIN Competitions ON Competitions.id = competitionId
WHERE eventId = '333fm'
GROUP BY year) tmp
ORDER BY year;